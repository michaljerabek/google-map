!function(e){var t=window.GoogleMaps=function(){var e=[],t=!1,o=function(o){return o instanceof GoogleMap&&(e.push(o),t&&o.init(),o)},i=function(){e.forEach(function(e){e.init()}),t=!0};return window.googleMapsInit=function(){window.GoogleMaps.$EVENT.trigger("googleMapInit.GoogleMap"),"function"==typeof window.GoogleMaps.onInit&&window.GoogleMaps.onInit(),google.maps.event.addDomListener(window,"load",i)},{addMap:o}}();t.$EVENT=e({})}(jQuery),function(e){var t={el:"#map",zoom:14,controls:!1,styles:[],centerLocationOnResize:100},o=window.GoogleMap=function o(i){if("object"!=typeof i)throw"Options required.";if(this.options=e.extend({},t,i),!this.options.coords)throw"Coords are required.";this.options.el||(this.options.el=o.DEFAULTS.el),this.options.zoom||(this.options.zoom=o.DEFAULTS.zoom),this.options.styles||(this.options.styles=o.DEFAULTS.styles),this.el=null,this.$el=null,this.map=null,this._idHTMLCounter=0,this._idMarkerCounter=0,this._idInfoCounter=0,this._markers=[],this._infos=[],this._htmls=[],this.markers={},this.infos={},this.HTMLs={},this.markerId=null,this.infoId=null,this.HTMLId=null,GoogleMaps.addMap(this)},i=function(e){switch(e){case"HTML":return this.HTMLs[++this._idHTMLCounter]?i.call(this,e):this._idHTMLCounter;case"Marker":return this.markers[++this._idMarkerCounter]?i.call(this,e):this._idMarkerCounter;case"Info":return this.infos[++this._idInfoCounter]?i.call(this,e):this._idInfoCounter}};o.DEFAULTS=t,o.STYLES={},o.STYLES.empty=function(){return[]},o.prototype.init=function(){this.$el=this.options.el.jquery?this.options.el:e(this.options.el),this.el=this.$el[0];var t={zoom:this.options.zoom};this.options.coords instanceof google.maps.LatLng?t.location=this.options.coords:t.location=new google.maps.LatLng(this.options.coords[0],this.options.coords[1]),this.options.styles instanceof GoogleMapStyle?t.styles=this.options.styles.getStyles():t.styles=this.options.styles,t.center=t.location,this.options.controls||o.DEFAULTS.controls||(t.zoomControl=!1,t.mapTypeControl=!1,t.scaleControl=!1,t.streetViewControl=!1,t.rotateControl=!1,t.fullscreenControl=!1),this.options.options&&(t=e.extend({},t,this.options.options)),this.map=new google.maps.Map(this.el,t),this.options.centerLocationOnResize&&this.initCenterLocationOnResize(this.options.centerLocationOnResize),this.initialized=!0,this.options.markers?this.options.markers.forEach(this.addMarker.bind(this)):(this.options.icon||this.options.addMarker)&&(this.markerId=i.call(this,"Marker"),this.options.info&&(this.infoId=i.call(this,"Info")),this.addMarker({coords:t.location,icon:this.options.icon,info:this.options.info,infoId:this.options.infoId,id:this.markerId})),this.options.html&&(this.options.html instanceof Array?this.options.html.forEach(this.addHTML.bind(this)):(this.HTMLId=i.call(this,"HTML"),this.addHTML({html:this.options.html,id:this.HTMLId}))),this._markers.forEach(this.addMarker.bind(this)),this._infos.forEach(this.addInfo.bind(this)),this._htmls.forEach(this.addHTML.bind(this)),"function"==typeof this.options.onInit&&this.options.onInit.call(this)},o.prototype.addMarker=function(t,o){t=t||{};var s=t.id||i.call(this,"Marker");if(!this.initialized)return t.id=t.id||s,this._markers.push(t),o?null:s;!t.coords||t.coords instanceof google.maps.LatLng||(t.coords=new google.maps.LatLng(t.coords[0],t.coords[1]));var n={position:t.coords||this.map.location,map:this.map,icon:t.icon||this.options.icon};t.options&&(n=e.extend({},n,t.options));var r=new google.maps.Marker(n);return t.info&&this.addInfo({content:t.info,marker:r,id:t.infoId}),this.markers[s]=r,o?r:s},o.prototype.getMarker=function(e){return this.markers[e]||null},o.prototype.addInfo=function(t,o){t=t||{};var s=t.id||i.call(this,"Info");if(!this.initialized)return t.id=t.id||s,this._infos.push(t),o?null:s;t.marker=t.marker||this.markers[this.markers.length-1];var n={content:t.content};t.options&&(n=e.extend({},n,t.options));var r=new google.maps.InfoWindow(n),l=!1;return google.maps.event.addListener(t.marker,"touchend",function(){l=!0,r.open(this.map,this)}),google.maps.event.addListener(t.marker,"click",function(){return l?void(l=!1):void r.open(this.map,this)}),this.infos[s]=r,o?r:s},o.prototype.getInfo=function(e){return this.infos[e]||null},o.prototype.addHTML=function(e,t){e=e||{};var o=e.id||i.call(this,"HTML");if(!this.initialized)return"string"==typeof e?e={html:e,id:o}:e.id=e.id||o,this._htmls.push(e),t?null:o;var s="string"==typeof e||e instanceof HTMLElement?e:e.html,n="object"!=typeof e||e instanceof HTMLElement?null:e.coords,r="object"!=typeof e||e instanceof HTMLElement?null:e.draw,l=new GoogleMapHTMLOverlay(this.map,s,n,r);return this.HTMLs[o]=l,t?l:o},o.prototype.getHTML=function(e){return this.HTMLs[e]||null},o.getStyles=function(e,t){var i;return i=o.STYLES[e]?new GoogleMapStyle(o.STYLES[e]()):new GoogleMapStyle(o.STYLES.empty()),"function"==typeof t&&t.call(i),i},o.prototype.initCenterLocationOnResize=function(e){if(!this.resizeInitialized){var t="number"==typeof e,o=this;google.maps.event.addDomListener(window,"resize",function(){return t?(clearTimeout(t),void(t=setTimeout(o.centerLocation.bind(o),e))):void o.centerLocation()}),this.resizeInitialized=!0}},o.prototype.centerLocation=function(){this.map.setCenter(this.map.location)},o.prototype.on=function(e,t){return this.map.addListener(e,t)},o.prototype.off=function(e){this.map.removeListener(e)}}(jQuery),function(e){var t=window.GoogleMapHTMLOverlay=function(e,t,o,i){this.html=t,this.$el=null,this.el=null,this.map=e,i&&(this.draw=i),o instanceof google.maps.LatLng?this.position=o:o instanceof google.maps.Marker?this.position=o.position:o instanceof Array?this.position=new google.maps.LatLng(o[0],o[1]):this.position=this.map.location,this.setMap(e)};GoogleMaps.$EVENT.on("googleMapInit.GoogleMap",function(){t.prototype=new google.maps.OverlayView,t.prototype.onAdd=function(){var t=this.getPanes();this.$el=e("<div></div>"),this.$el.css("position","absolute").html(this.html).appendTo(t.overlayLayer),this.el=this.$el[0]},t.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position),o={width:this.el.offsetWidth,height:this.el.offsetHeight};this.el.style.left=t.x-o.width/2+"px",this.el.style.top=t.y-o.height+"px"},t.prototype.onRemove=function(){this.$el.remove(),this.$el=null,this.el=null},t.prototype.show=function(e){var t=Array.prototype.slice.call(arguments);return e===!1&&(t[0]=0),this.$el.fadeIn.apply(this.$el,t)},t.prototype.hide=function(e){var t=Array.prototype.slice.call(arguments);return e===!1&&(t[0]=0),this.$el.fadeOut.apply(this.$el,t)},t.prototype.animate=function(){return this.$el.animate.apply(this.$el,arguments)},t.prototype.css=function(){return this.$el.css.apply(this.$el,arguments)},t.prototype.find=function(){return this.$el.find.apply(this.$el,arguments)},t.prototype.addClass=function(){return this.$el.addClass.apply(this.$el,arguments)},t.prototype.removeClass=function(){return this.$el.removeClass.apply(this.$el,arguments)},t.prototype.hasClass=function(){return this.$el.hasClass.apply(this.$el,arguments)}})}(jQuery),function(e){var t=window.GoogleMapStyle=function(e){this.styles=e||[]};t.prototype.set=function(e,t,o,i){var s=!1;this.each(function(i){if(!(i.featureType!==e&&(i.featureType||e)||i.elementType!==t&&(i.elementType||t)))return i.stylers=this.toStylers(o),s=!0,!1}),s||this.styles.push({featureType:e,elementType:t,stylers:this.toStylers(o)}),i&&this.findSubtypes(e,t).forEach(function(e){this.unset(e.featureType,e.elementType)}.bind(this))},t.prototype.all=function(e,t,o,i){this.each(function(i){i.featureType!==e&&e&&"all"!==e&&(!i.featureType||0!==i.featureType.indexOf(e+"."))||i.elementType!==t&&(i.elementType||t)||(i.stylers=this.toStylers(o))}),i&&this.findSubtypes(e,t).forEach(function(e){this.unset(e.featureType,e.elementType)}.bind(this))},t.prototype.unset=function(e,t,o){this.each(function(o,i){if(!(o.featureType!==e&&(o.featureType||e)||o.elementType!==t&&(o.elementType||t)))return this.styles.splice(i,1),!1}),o&&this.findSubtypes(e,t).forEach(function(e){this.unset(e.featureType,e.elementType)}.bind(this))},t.prototype.add=function(t,o,i,s){var n=!1;this.each(function(s){if(!(s.featureType!==t&&(s.featureType||t)||s.elementType!==o&&(s.elementType||o)))return e.each(i,function(t,o){var i=!1;if(e.each(s.stylers,function(e,n){if("undefined"!=typeof n[t])return s.stylers[e][t]=o,i=!0,!1}),!i){var n={};n[t]=o,s.stylers=s.stylers||[],s.stylers.push(n)}}),n=!0,!1}),n||this.set(t,o,i),s&&this.findSubtypes(t,o).forEach(function(e){this.remove(e.featureType,e.elementType,Object.keys(i))}.bind(this))},t.prototype.remove=function(t,o,i,s){i="string"==typeof i?[i]:i;var n=!1;this.each(function(s){if(!(s.featureType!==t&&(s.featureType||t)||s.elementType!==o&&(s.elementType||o)))return i.forEach(function(t){e.each(s.stylers,function(e,o){if("undefined"!=typeof o[t])return s.stylers.splice(e,1),!1})}.bind(this)),s.stylers.length||this.unset(t,o),n=!0,!1}),n||this.unset(t,o,s),s&&this.findSubtypes(t,o).forEach(function(e){this.remove(e.featureType,e.elementType,i)}.bind(this))},t.prototype.toStylers=function(t){var o=[];return e.each(t,function(e,t){var i={};i[e]=t,o.push(i)}),o},t.prototype.findSubtypes=function(e,t){var o=[],i=e?e+".":null,s=t?t+".":null;return this.each(function(n){var r=!1,l=!!n.featureType,a=!!n.elementType,p=n.featureType===e,h=n.elementType===t,y=l&&(0===n.featureType.indexOf(i)||"all"===e&&"all"!==n.featureType),f=a&&(0===n.elementType.indexOf(s)||"all"===t&&"all"!==n.elementType);(!l&&!e||l&&(p||y))&&a&&f&&(r=o.push(n)),r||t||!(!a||l&&y)||l&&y&&(r=o.push(n)),!r&&l&&a&&((p&&f||y&&h||f&&y)&&(r=o.push(n)),!r&&p&&!t&&a&&(r=o.push(n)))}),o},t.prototype.each=function(e){this.getStyles().forEach(e.bind(this))},t.prototype.getStyles=function(){return this.styles}}(jQuery),GoogleMap.STYLES["grayscale-inverse"]=function(){return[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]},GoogleMap.STYLES.grayscale=function(){return[{featureType:"all",stylers:[{saturation:-100}]}]};
