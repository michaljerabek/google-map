!function(e){var t=window.GoogleMaps=function(){var e=[],t=!1,o=function(o){return o instanceof GoogleMap&&(e.push(o),t&&o.init(),o)},i=function(){e.forEach(function(e){e.init()}),t=!0};return window.googleMapsInit=function(){window.GoogleMaps.$EVENT.trigger("googleMapInit.GoogleMap"),"function"==typeof window.GoogleMaps.onInit&&window.GoogleMaps.onInit(),google.maps.event.addDomListener(window,"load",i)},{addMap:o}}();t.$EVENT=e({})}(jQuery),function(e){var t={el:"#map",zoom:13,controls:!1,styles:[]},o=window.GoogleMap=function e(t){if("object"!=typeof t)throw"Options required.";if(this.options=t,!this.options.coords)throw"Coords are required.";this.options.el||(this.options.el=e.DEFAULTS.el),this.options.zoom||(this.options.zoom=e.DEFAULTS.zoom),this.options.styles||(this.options.styles=e.DEFAULTS.styles),this.el=null,this.$el=null,this.map=null,this.markers=[],this._markers=[],this._infos=[],this.infos=[],this._htmls=[],this.HTMLs=[],GoogleMaps.addMap(this)};o.DEFAULTS=t,o.STYLES={},o.STYLES.empty=function(){return[]},o.prototype.init=function(){this.$el=this.options.el.jquery?this.options.el:e(this.options.el),this.el=this.$el[0];var t={zoom:this.options.zoom};this.options.coords instanceof google.maps.LatLng?t.location=this.options.coords:t.location=new google.maps.LatLng(this.options.coords[0],this.options.coords[1]),this.options.styles instanceof GoogleMapStyle?t.styles=this.options.styles.getStyles():t.styles=this.options.styles,t.center=t.location,this.options.controls||o.DEFAULTS.controls||(t.zoomControl=!1,t.mapTypeControl=!1,t.scaleControl=!1,t.streetViewControl=!1,t.rotateControl=!1,t.fullscreenControl=!1),this.options.options&&(t=e.extend({},t,this.options.options)),this.map=new google.maps.Map(this.el,t),this.initialized=!0,this.options.markers?this.options.markers.forEach(this.addMarker.bind(this)):(this.options.icon||this.options.addMarker)&&this.addMarker({coords:t.location,icon:this.options.icon,info:this.options.info}),this.options.html&&(this.options.html instanceof Array?this.options.html.forEach(this.addHTML.bind(this)):this.addHTML(this.options.html)),this._markers.forEach(this.addMarker.bind(this)),this._infos.forEach(this.addInfo.bind(this)),this._htmls.forEach(this.addHTML.bind(this)),"function"==typeof this.options.onInit&&this.options.onInit.call(this)},o.prototype.addMarker=function(t){if(t=t||{},!this.initialized)return void this._markers.push(t);!t.coords||t.coords instanceof google.maps.LatLng||(t.coords=new google.maps.LatLng(t.coords[0],t.coords[1]));var o={position:t.coords||this.map.location,map:this.map,icon:t.icon||this.options.icon};t.options&&(o=e.extend({},o,t.options));var i=new google.maps.Marker(o);return t.info&&this.addInfo({content:t.info,marker:i}),this.markers.push(i),i},o.prototype.addInfo=function(t){if(t=t||{},!this.initialized)return void this._infos.push(t);t.marker=t.marker||this.markers[this.markers.length-1];var o={content:t.content};t.options&&(o=e.extend({},o,t.options));var i=new google.maps.InfoWindow(o),s=!1;return google.maps.event.addListener(t.marker,"touchend",function(){s=!0,i.open(this.map,this)}),google.maps.event.addListener(t.marker,"click",function(){return s?void(s=!1):void i.open(this.map,this)}),this.infos.push(i),i},o.prototype.addHTML=function(e){if(!this.initialized)return void this._htmls.push(e);var t="string"==typeof e||e instanceof HTMLElement?e:e.html,o="object"!=typeof e||e instanceof HTMLElement?null:e.coords,i="object"!=typeof e||e instanceof HTMLElement?null:e.draw,s=new GoogleMapHTMLOverlay(this.map,t,o,i);return this.HTMLs.push(s),s},o.getStyles=function(e,t){var i;return i=o.STYLES[e]?new GoogleMapStyle(o.STYLES[e]()):new GoogleMapStyle(o.STYLES.empty()),"function"==typeof t&&t.call(i),i}}(jQuery),function(e){var t=window.GoogleMapHTMLOverlay=function(e,t,o,i){this.html=t,this.$el=null,this.el=null,this.map=e,i&&(this.draw=i),o instanceof google.maps.LatLng?this.position=o:o instanceof google.maps.Marker?this.position=o.position:o instanceof Array?this.position=new google.maps.LatLng(o[0],o[1]):this.position=this.map.location,this.setMap(e)};GoogleMaps.$EVENT.on("googleMapInit.GoogleMap",function(){t.prototype=new google.maps.OverlayView,t.prototype.onAdd=function(){var t=this.getPanes();this.$el=e("<div></div>"),this.$el.css("position","absolute").html(this.html).appendTo(t.overlayLayer),this.el=this.$el[0]},t.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position),o={width:this.$el.outerWidth(),height:this.$el.outerHeight()};this.el.style.left=t.x-o.width/2+"px",this.el.style.top=t.y-o.height+"px"},t.prototype.onRemove=function(){this.$el.remove(),this.$el=null,this.el=null},t.prototype.show=function(){return this.$el.fadeIn.apply(this.$el,arguments)},t.prototype.hide=function(){return this.$el.fadeOut.apply(this.$el,arguments)},t.prototype.animate=function(){return this.$el.animate.apply(this.$el,arguments)},t.prototype.css=function(){return this.$el.css.apply(this.$el,arguments)},t.prototype.find=function(){return this.$el.find.apply(this.$el,arguments)}})}(jQuery),function(e){var t=window.GoogleMapStyle=function(e){this.styles=e||[]};t.prototype.set=function(e,t,o,i){var s=!1;this.each(function(i){if(!(i.featureType!==e&&(i.featureType||e)||i.elementType!==t&&(i.elementType||t)))return i.stylers=this.toStylers(o),s=!0,!1}),s||this.styles.push({featureType:e,elementType:t,stylers:this.toStylers(o)}),i&&this.findSubtypes(e,t).forEach(function(e){this.unset(e.featureType,e.elementType)}.bind(this))},t.prototype.all=function(e,t,o,i){this.each(function(i){i.featureType!==e&&e&&"all"!==e&&(!i.featureType||0!==i.featureType.indexOf(e+"."))||i.elementType!==t&&(i.elementType||t)||(i.stylers=this.toStylers(o))}),i&&this.findSubtypes(e,t).forEach(function(e){this.unset(e.featureType,e.elementType)}.bind(this))},t.prototype.unset=function(e,t,o){this.each(function(o,i){if(!(o.featureType!==e&&(o.featureType||e)||o.elementType!==t&&(o.elementType||t)))return this.styles.splice(i,1),!1}),o&&this.findSubtypes(e,t).forEach(function(e){this.unset(e.featureType,e.elementType)}.bind(this))},t.prototype.add=function(t,o,i,s){var n=!1;this.each(function(s){if(!(s.featureType!==t&&(s.featureType||t)||s.elementType!==o&&(s.elementType||o)))return e.each(i,function(t,o){var i=!1;if(e.each(s.stylers,function(e,n){if("undefined"!=typeof n[t])return s.stylers[e][t]=o,i=!0,!1}),!i){var n={};n[t]=o,s.stylers=s.stylers||[],s.stylers.push(n)}}),n=!0,!1}),n||this.set(t,o,i),s&&this.findSubtypes(t,o).forEach(function(e){this.remove(e.featureType,e.elementType,Object.keys(i))}.bind(this))},t.prototype.remove=function(t,o,i,s){i="string"==typeof i?[i]:i;var n=!1;this.each(function(s){if(!(s.featureType!==t&&(s.featureType||t)||s.elementType!==o&&(s.elementType||o)))return i.forEach(function(t){e.each(s.stylers,function(e,o){if("undefined"!=typeof o[t])return s.stylers.splice(e,1),!1})}.bind(this)),s.stylers.length||this.unset(t,o),n=!0,!1}),n||this.unset(t,o,s),s&&this.findSubtypes(t,o).forEach(function(e){this.remove(e.featureType,e.elementType,i)}.bind(this))},t.prototype.toStylers=function(t){var o=[];return e.each(t,function(e,t){var i={};i[e]=t,o.push(i)}),o},t.prototype.findSubtypes=function(e,t){var o=[],i=e?e+".":null,s=t?t+".":null;return this.each(function(n){var r=!1,l=!!n.featureType,a=!!n.elementType,p=n.featureType===e,h=n.elementType===t,y=l&&(0===n.featureType.indexOf(i)||"all"===e&&"all"!==n.featureType),f=a&&(0===n.elementType.indexOf(s)||"all"===t&&"all"!==n.elementType);(!l&&!e||l&&(p||y))&&a&&f&&(r=o.push(n)),r||t||!(!a||l&&y)||l&&y&&(r=o.push(n)),!r&&l&&a&&((p&&f||y&&h||f&&y)&&(r=o.push(n)),!r&&p&&!t&&a&&(r=o.push(n)))}),o},t.prototype.each=function(e){this.getStyles().forEach(e.bind(this))},t.prototype.getStyles=function(){return this.styles}}(jQuery),GoogleMap.STYLES["grayscale-inverse"]=function(){return[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]},GoogleMap.STYLES.grayscale=function(){return[{featureType:"all",stylers:[{saturation:-100}]}]};
